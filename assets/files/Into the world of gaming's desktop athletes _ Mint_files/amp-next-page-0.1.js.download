;
(self.AMP=self.AMP||[]).push({m:0,v:"2302271541000",n:"amp-next-page",ev:"0.1",l:!1,f:function(t,n){!function(){function n(t,r){return(n=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,r)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e(t,n){if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}var o=Array.isArray;function u(t,n){for(var r=[],i=0,e=0;e<t.length;e++){var o=t[e];n(o,e,t)?r.push(o):(i<e&&(t[i]=o),i++)}return i<t.length&&(t.length=i),r}function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,i=new Array(n);r<n;r++)i[r]=t[r];return i}function s(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return a(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c=Object.prototype,f=c.hasOwnProperty,l=c.toString;function h(t){return"[object Object]"===l.call(t)}function v(t){var n=Object.create(null);return t&&Object.assign(n,t),n}function d(t,n){return f.call(t,n)}function p(t,n){if("."==n)return t;for(var r,e=t,o=s(n.split("."),!0);!(r=o()).done;){var u=r.value;if(!(u&&e&&void 0!==e[u]&&"object"==i(e)&&d(e,u))){e=void 0;break}e=e[u]}return e}function m(t){return 1==(null==(n=t)?void 0:n.nodeType)?(t=t).tagName.toLowerCase()+(t.id?"#".concat(t.id):""):t;var n}function b(t,n,r,i,e,o,u,a,s,c,f){return t}function g(t){return JSON.parse(t)}function y(t){return(t.ownerDocument||t).defaultView}var w,x=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function S(t,n,r,i,e){return e||(n?"�":i?t.slice(0,-1)+"\\"+t.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+t)}function E(t,n){return t.replace(/^|,/g,"$&".concat(n," "))}function O(t){b(/^[\w-]+$/.test(t))}function R(t,n){return(void 0!==w?w:w=function(t){try{var n=t.ownerDocument,r=n.createElement("div"),i=n.createElement("div");return r.appendChild(i),r.querySelector(":scope div")===i}catch(t){return!1}}(t))?t.querySelectorAll(E(n,":scope")):function(t,n){var r=t.classList,i="i-amphtml-scoped";r.add(i);var e=E(n,".".concat(i)),o=t.querySelectorAll(e);return r.remove(i),o}(t,n)}function j(t,n){return O(n),R(t,"> ".concat(n))}function k(t,n){return O(n),t.querySelector(n)}function P(t){var n;null===(n=t.parentElement)||void 0===n||n.removeChild(t)}function T(t,n){t.insertBefore(n,t.firstChild)}function I(t){if(Node.prototype.getRootNode)return t.getRootNode();var n,r;for(n=t;n.parentNode&&(!(r=n)||"I-AMPHTML-SHADOW-ROOT"!=r.tagName&&(11!=r.nodeType||"[object ShadowRoot]"!==Object.prototype.toString.call(r)));n=n.parentNode);return n}function A(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function U(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,i)}return r}function N(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?U(Object(r),!0).forEach((function(n){A(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}var _=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function L(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(t)}catch(t){return n}}function C(t){var n,r=v();if(!t)return r;for(;n=_.exec(t);){var i=L(n[1],n[1]),e=n[2]?L(n[2].replace(/\+/g," "),n[2]):"";r[i]=e}return r}function M(t){var n=(t||self).location;return C(n.originalHash||n.hash)}var z="";function $(t){var n;return z||(z=(null===(n=t.AMP_CONFIG)||void 0===n?void 0:n.v)||"01".concat("2302271541000")),z}function D(t,n){var r=n||M(t);return["1","actions","amp","amp4ads","amp4email"].includes(r.development)||!!t.AMP_DEV_MODE}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var H,q=self.__AMP_LOG;function G(t,n){throw new Error("failed to call initLogConstructor")}function V(t){return q.user||(q.user=W()),function(t,n){return n&&n.ownerDocument.defaultView!=t}(q.user.win,t)?q.userForEmbed||(q.userForEmbed=W()):q.user}function W(t){return G()}function Z(){return q.dev||(q.dev=G())}function B(t,n,r,i,e,o,u,a,s,c,f){return t}function J(t,n,r,i,e,o,u,a,s,c,f){return V().assert(t,n,r,i,e,o,u,a,s,c,f)}function K(){return H||(H=Promise.resolve(void 0))}var X=function(){var t=this;this.promise=new Promise((function(n,r){t.resolve=n,t.reject=r}))};function Y(t,n){return et(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),n)}function F(t,n){return et(it(rt(t)),n)}function Q(t,n){var r=it(rt(t));return ct(r,n)?et(r,n):null}function tt(t,n){return function(t,n){var r=ot(t,n);if(r)return r;var i,e,o,u,a=ut(t);return a[n]=(e=(i=new X).promise,o=i.reject,u=i.resolve,e.catch((function(){})),{obj:null,promise:e,resolve:u,reject:o,context:null,ctor:null}),a[n].promise}(it(t),n)}function nt(t,n){return ot(it(t),n)}function rt(t){return t.nodeType?(n=y(t),Y(n,"ampdoc")).getAmpDoc(t):t;var n}function it(t){var n=rt(t);return n.isSingleDoc()?n.win:n}function et(t,n){B(ct(t,n));var r=ut(t)[n];return r.obj||(B(r.ctor),B(r.context),r.obj=new r.ctor(r.context),B(r.obj),r.context=null,r.resolve&&r.resolve(r.obj)),r.obj}function ot(t,n){var r=ut(t)[n];return r?r.promise?r.promise:(et(t,n),r.promise=Promise.resolve(r.obj)):null}function ut(t){var n=t.__AMP_SERVICES;return n||(n=t.__AMP_SERVICES={}),n}function at(t){return"function"==typeof t.dispose}function st(t,n){if(at(n))try{(function(t){return B(at(t)),t})(n).dispose()}catch(n){Z().error("SERVICE","failed to dispose service",t,n)}}function ct(t,n){var r=t.__AMP_SERVICES&&t.__AMP_SERVICES[n];return!(!r||!r.ctor)}var ft="__AMP__EXPERIMENT_TOGGLES";function lt(t,n){var r=function(t){var n,r,i,e,u;if(t[ft])return t[ft];t[ft]=v();var a=t[ft];b(a);var c=N(N({},null!==(n=t.AMP_CONFIG)&&void 0!==n?n:{}),null!==(r=t.AMP_EXP)&&void 0!==r?r:g((null===(i=t.__AMP_EXP)||void 0===i?void 0:i.textContent)||"{}"));for(var f in c){var l=c[f];"number"==typeof l&&l>=0&&l<=1&&(a[f]=Math.random()<l)}var h=null===(e=t.AMP_CONFIG)||void 0===e?void 0:e["allow-doc-opt-in"];if(o(h)&&h.length){var d=t.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(d)for(var p,m,y=s((null===(p=d.getAttribute("content"))||void 0===p?void 0:p.split(","))||[],!0);!(m=y()).done;){var w=m.value;h.includes(w)&&(a[w]=!0)}}Object.assign(a,function(t){var n,r="";try{var i;"localStorage"in t&&(r=null!==(i=t.localStorage.getItem("amp-experiment-toggles"))&&void 0!==i?i:"")}catch(t){Z().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}for(var e,o=(null===(n=r)||void 0===n?void 0:n.split(/\s*,\s*/g))||[],u=v(),a=s(o,!0);!(e=a()).done;){var c=e.value;c&&("-"==c[0]?u[c.substr(1)]=!1:u[c]=!0)}return u}(t));var x=null===(u=t.AMP_CONFIG)||void 0===u?void 0:u["allow-url-opt-in"];if(o(x)&&x.length)for(var S,E=C(t.location.originalHash||t.location.hash),O=s(x,!0);!(S=O()).done;){var R=S.value,j=E["e-".concat(R)];"1"==j&&(a[R]=!0),"0"==j&&(a[R]=!1)}return a}(t);return!!r[n]}function ht(t){if(!t)return null;var n=t.match(/^(.*)\/(.*)-([0-9.]+|latest)(\.max)?\.(?:js|mjs)(?:\?ssr-css=[0|1])?$/i),r=n?n[2]:void 0,i=n?n[3]:void 0;return r&&i?{extensionId:r,extensionVersion:i}:null}function vt(t,n,r,i){var e=nt(t,n);if(e)return e;var o=rt(t);return o.whenExtensionsKnown().then((function(){var t=o.getExtensionVersion(r);return t?Y(o.win,"extensions").waitForExtension(r,t):null})).then((function(r){return r?i?nt(t,n):tt(t,n):null}))}var dt,pt,mt=function(t){return Y(t,"ampdoc")},bt=function(t){return vt(t,"amp-analytics-instrumentation","amp-analytics")},gt=function(t){return Y(t,"batched-xhr")},yt=function(t){return function(t,n,r){var i=Q(t,n);return i?Promise.resolve(i):vt(t,n,"amp-bind")}(t,"bind")},wt=function(t){return vt(t,"consentPolicyManager","amp-consent")},xt=function(t){return Q(t,"url")},St=function(t){return F(t,"viewer")},Et=function(t){return Y(t,"vsync")},Ot=function(t){return F(t,"viewport")},Rt=function(t){return Y(t,"xhr")},jt=function(){function t(t){this.dr=t,this.pr=0,this.mr=0,this.yr=v()}var n=t.prototype;return n.has=function(t){return!!this.yr[t]},n.get=function(t){var n=this.yr[t];if(n)return n.access=++this.mr,n.payload},n.put=function(t,n){this.has(t)||this.pr++,this.yr[t]={payload:n,access:this.mr},this.wr()},n.wr=function(){if(!(this.pr<=this.dr)){var t,n=this.yr,r=this.mr+1;for(var i in n){var e=n[i].access;e<r&&(r=e,t=i)}void 0!==t&&(delete n[t],this.pr--)}},t}(),kt=function(){return self.AMP.config.urls}(),Pt=new Set(["c","v","a","ad"]),Tt="__amp_source_origin",It=function(t){return"string"==typeof t?At(t):t};function At(t,n){return dt||(dt=self.document.createElement("a"),pt=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new jt(100))),function(t,n,r){if(r&&r.has(n))return r.get(n);t.href=n,t.protocol||(t.href=t.href);var i,e={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname),("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)&&(e.port="",e.host=e.hostname),i=t.origin&&"null"!=t.origin?t.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href,e.origin=i;var o=e;return r&&r.put(n,o),o}(dt,t,n?null:pt)}function Ut(t){return"https:"==(t=It(t)).protocol||"localhost"==t.hostname||"127.0.0.1"==t.hostname||(r=".localhost",(i=(n=t.hostname).length-r.length)>=0&&n.indexOf(r,i)==i);var n,r,i}function Nt(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"source";return J(null!=t,"%s %s must be available",n,r),J(Ut(t)||/^\/\//.test(t),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',n,r,t),t}function _t(t){return kt.cdnProxyRegex.test(It(t).origin)}function Lt(t){if(!_t(t=It(t)))return t.href;var n=t.pathname.split("/"),r=n[1];J(Pt.has(r),"Unknown path prefix in url %s",t.href);var i=n[2],e="s"==i?"https://"+decodeURIComponent(n[3]):"http://"+decodeURIComponent(i);return J(e.indexOf(".")>0,"Expected a . in origin %s",e),n.splice(1,"s"==i?3:2),e+n.join("/")+function(t,n){if(!t||"?"==t)return"";var r=new RegExp("[?&]".concat("(amp_(js[^&=]*|gsa|r|kit)|usqp)","\\b[^&]*"),"g"),i=t.replace(r,"").replace(/^[?&]/,"");return i?"?"+i:""}(t.search)+(t.hash||"")}function Ct(t){return At(Lt(t)).origin}var Mt,zt=[/(^|\W)i-amphtml-/],$t="hidden";function Dt(t,n,r,i){return{left:t,top:n,width:r,height:i,bottom:n+i,right:t+r,x:t,y:n}}function Ht(t,n){return!(!t||!n)&&t.left==n.left&&t.top==n.top&&t.width==n.width&&t.height==n.height}var qt=["Webkit","webkit","Moz","moz","ms","O","o"];function Gt(t,n,r,i,e){var o=function(t,n,r){if(n.startsWith("--"))return n;Mt||(Mt=v());var i=Mt[n];if(!i||r){if(i=n,void 0===t[n]){var e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(n),o=function(t,n){for(var r=0;r<qt.length;r++){var i=qt[r]+n;if(void 0!==t[i])return i}return""}(t,e);void 0!==t[o]&&(i=o)}r||(Mt[n]=i)}return i}(t.style,n,e);if(o){var u,a=i?r+i:r;t.style.setProperty((u=o.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})),qt.some((function(t){return u.startsWith(t+"-")}))?"-".concat(u):u),a)}}var Vt,Wt,Zt=function(){function t(t,n,r,i){this.element=n,this.Be=i,this.fidelity=r,this.turn=0==r?Math.floor(4*Math.random()):0,this.xR=null,this.jo=Ot(t)}var n=t.prototype;return n.Ge=function(t){var n=this.xR;if(!(n&&Ht(n.positionRect,t.positionRect)&&Ht(n.viewportRect,t.viewportRect))){B(t.positionRect);var r,i,e=t.positionRect;t.relativePos=(r=e,i=t.viewportRect,r.top<i.top?"top":r.bottom>i.bottom?"bottom":"inside"),function(t,n){return t.top<=n.bottom&&n.top<=t.bottom&&t.left<=n.right&&n.left<=t.right}(e,t.viewportRect)?(this.xR=t,this.Be(t)):this.xR&&(this.xR=null,t.positionRect=null,this.Be(t))}},n.update=function(t){var n=this;if(!t){if(0!=this.turn)return void this.turn--;0==this.fidelity&&(this.turn=4)}var r=this.jo.getSize(),i=Dt(0,0,r.width,r.height);this.jo.getClientRectAsync(this.element).then((function(t){n.Ge({positionRect:t,viewportRect:i,relativePos:null})}))},t}(),Bt=function(){function t(t){var n=this;this.Bi=t,this.t=t.win,this.OR=[],this.zo=Et(this.t),this.jo=Ot(t),this.Nw=[],this.jR=!1,this.RR=!1,this.ER=!1,this.SR=function(t,n,r){var i=0,e=0,o=null;function u(){i=0;var r,a=500-(t.Date.now()-e);a>0?i=t.setTimeout(u,a):(r=o,o=null,n.apply(null,r))}return function(){e=t.Date.now();for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];o=r,i||(i=t.setTimeout(u,500))}}(this.t,(function(){n.jR=!1}))}var n=t.prototype;return n.observe=function(t,n,r){var i=this,e=new Zt(this.Bi,t,n,r);return this.OR.push(e),this.ER||this.FR(),e.update(),function(){for(var t=0;t<i.OR.length;t++)if(i.OR[t]==e)return void i.IR(t)}},n.unobserve=function(t){for(var n=0;n<this.OR.length;n++)if(this.OR[n].element==t)return void this.IR(n);Z().error("POSITION_OBSERVER","cannot unobserve unobserved element")},n.IR=function(t){this.OR.splice(t,1),0==this.OR.length&&this.MR()},n.FR=function(){var t=this;this.ER=!0,this.Nw.push(this.jo.onScroll((function(){t.AR()}))),this.Nw.push(this.jo.onResize((function(){t.BR()})))},n.MR=function(){for(this.ER=!1;this.Nw.length;)this.Nw.pop()()},n.updateAllEntries=function(t){for(var n=0;n<this.OR.length;n++)this.OR[n].update(t)},n.AR=function(){this.SR(),this.jR=!0,this.RR||this.PR()},n.BR=function(){this.updateAllEntries(!0)},n.PR=function(){var t=this;this.updateAllEntries(),this.RR=!0,this.jR?this.zo.measure((function(){t.PR()})):this.RR=!1},t}(),Jt=".amp-next-page-default-separator{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-links{border-top:1px solid rgba(0,0,0,0.12)}.amp-next-page-link{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-text{color:#3c4043;font-size:17px}.i-amphtml-next-page-document{overflow-y:hidden}.i-amphtml-next-page-document>[i-amphtml-fixedid]{display:none}.i-amphtml-next-page-hidden{display:none!important}.i-amphtml-next-page{background:#fff}.i-amphtml-next-page>[separator]{display:none}.i-amphtml-reco-holder-article{display:block;overflow:auto;padding:10px 0;text-decoration:none}.i-amphtml-next-article-image{width:72px;height:72px;float:left;margin:0 10px;background-size:cover;background-position:50%}.i-amphtml-next-article-title{position:relative;margin:5px 30px 5px 0}\n/*# sourceURL=/extensions/amp-next-page/0.1/amp-next-page.css*/",Kt="render-start",Xt="none";function Yt(){return void 0===Wt&&(Wt=Qt()!=Xt&&(Ft(Element.prototype.attachShadow)||Ft(Element.prototype.createShadowRoot))),Wt}function Ft(t){return!!t&&-1!=t.toString().indexOf("[native code]")}function Qt(t){return void 0===Vt&&(n=t||Element,Vt=n.prototype.attachShadow?"v1":n.prototype.createShadowRoot?"v0":Xt),Vt;var n}function tn(t,n,r){var i="";return t&&Array.prototype.forEach.call(t,(function(t){if(t.selectorText&&t.style&&void 0!==t.style.cssText)i+=function(t,n,r){var i=[];return t.split(",").forEach((function(t){t=t.trim(),r&&(t=r(t)),function(t,n){var r=function(t){return t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+t+")"+en,"m")}(n);return!t.match(r)}(t,n)&&(t=function(t,n){return function(t,n){return t.match(un)?(t=t.replace(on,n)).replace(un,n+" "):n+" "+t}(t,n)}(t,n)),i.push(t)})),i.join(", ")}(t.selectorText,n,r)+" {\n\t",i+=function(t){var n=t.style.cssText;t.style.content&&!t.style.content.match(/['"]+|attr/)&&(n=n.replace(/content:[^;]*;/g,"content: '"+t.style.content+"';"));var r=t.style;for(var i in r)"initial"===r[i]&&(n+=i+": initial; ");return n}(t)+"\n}\n\n";else if(t.type===CSSRule.MEDIA_RULE)i+="@media "+t.media.mediaText+" {\n",i+=tn(t.cssRules,n),i+="\n}\n\n";else try{t.cssText&&(i+=t.cssText+"\n\n")}catch(t){}})),i}var nn="-shadowcsshost",rn=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",en=(new RegExp("("+nn+rn,"gim"),new RegExp("(-shadowcsscontext"+rn,"gim"),"([>\\s~+[.,{:][\\s\\S]*)?$"),on=nn+"-no-combinator",un=new RegExp(nn,"gim");function an(t,n,r,i,e){var o=t.getHeadNode(),u=function(t,n,r,i){var e=t.__AMP_CSS_SM;e||(e=t.__AMP_CSS_SM=v());var o=!r&&i&&"amp-custom"!=i&&"amp-keyframes"!=i,u=r?"amp-runtime":o?"amp-extension=".concat(i):null;if(u){var a=sn(t,e,u);if(a)return"STYLE"==a.tagName&&a.textContent!==n&&(a.textContent=n),a}var s=(t.ownerDocument||t).createElement("style");s.textContent=n;var c=null;return r?s.setAttribute("amp-runtime",""):o?(s.setAttribute("amp-extension",i||""),c=sn(t,e,"amp-runtime")):(i&&s.setAttribute(i,""),c=t.lastChild),function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(r){var i=r.nextSibling;t.insertBefore(n,i)}else T(t,n)}(t,s,c),u&&(e[u]=s),s}(o,function(t,n){var r=t.__AMP_CSS_TR;return r?r(n):n}(o,n),i||!1,e||null);if(r){var a=t.getRootNode();if(cn(a,u))return r(u),u;var s=setInterval((function(){cn(a,u)&&(clearInterval(s),r(u))}),4)}return u}function sn(t,n,r){if(n[r])return n[r];var i=t.querySelector("style[".concat(r,"], link[").concat(r,"]"));return i?(n[r]=i,i):null}function cn(t,n){for(var r=t.styleSheets,i=0;i<r.length;i++)if(r[i].ownerNode==n)return!0;return!1}function fn(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ln(t,n,r){return n&&fn(t.prototype,n),r&&fn(t,r),t}new RegExp("-shadowcsscontext","gim");var hn=function(){function t(t){this.Pl=t.document.implementation.createHTMLDocument(""),this.Pl.open(),this.zo=Et(t),this.Tl=this.Il.bind(this),this.Ml=null,this.Sl=null,this.kl=null,this._l=!1,this.Rl=K(),this.Nl=!1,this.Cl=null}var n=t.prototype;return n.onBody=function(t){this.Ml=t},n.onBodyChunk=function(t){this.Sl=t},n.onEnd=function(t){this.kl=t},n.write=function(t){if(this.Nl)throw new Error("closed already");return t&&this.Pl.write(t),this.Gr(),this.Rl},n.close=function(){return this.Pl.close(),this.Nl=!0,this.Gr(),this.Rl},n.abort=function(t){throw new Error("Not implemented")},n.releaseLock=function(){throw new Error("Not implemented")},n.Gr=function(){b(this.Ml&&this.Sl&&this.kl),this._l||(this._l=!0,this.zo.mutate(this.Tl))},n.Il=function(){if(this._l=!1,!this.Cl&&this.Pl.body&&(this.Cl=this.Ml(this.Pl)),this.Cl){var t=this.Pl.body,n=b(this.Cl),r=0;for(dn(t);t.firstChild;)r++,n.appendChild(t.firstChild);r>0&&this.Sl()}this.Nl&&this.kl()},ln(t,[{key:"closed",get:function(){throw new Error("Not implemented")}},{key:"desiredSize",get:function(){throw new Error("Not implemented")}},{key:"ready",get:function(){throw new Error("Not implemented")}}]),t}(),vn=function(){function t(t){this.Dl=[],this.zo=Et(t),this.Ml=null,this.Sl=null,this.kl=null,this.Rl=K(),this.Nl=!1}var n=t.prototype;return n.onBody=function(t){this.Ml=t},n.onBodyChunk=function(t){this.Sl=t},n.onEnd=function(t){this.kl=t},n.write=function(t){if(b(this.Ml&&this.Sl&&this.kl),this.Nl)throw new Error("closed already");return t&&this.Dl.push(t),this.Rl},n.close=function(){var t=this;return b(this.Ml&&this.Sl&&this.kl),this.Nl=!0,this.zo.mutate((function(){return t.Uc()})),this.Rl},n.abort=function(t){throw new Error("Not implemented")},n.releaseLock=function(){throw new Error("Not implemented")},n.Uc=function(){var t=this.Dl.join(""),n=(new DOMParser).parseFromString(t,"text/html");if(n.body){var r=n.body,i=this.Ml(n),e=0;for(dn(r);r.firstChild;)e++,i.appendChild(r.firstChild);e>0&&this.Sl()}this.kl()},ln(t,[{key:"closed",get:function(){throw new Error("Not implemented")}},{key:"desiredSize",get:function(){throw new Error("Not implemented")}},{key:"ready",get:function(){throw new Error("Not implemented")}}]),t}();function dn(t){j(t,"noscript").forEach(P)}var pn,mn=/[^\.\-\_0-9a-zA-Z]/,bn=/[^\-\_0-9a-zA-Z]/;function gn(t){var n,r=y(t),i=t.shadowRoot||t.__AMP_SHADOW_ROOT;if(i){if(self.trustedTypes&&self.trustedTypes.createPolicy){var e=self.trustedTypes.createPolicy("shadow-embed#createShadowRoot",{createHTML:function(t){return""}});i.innerHTML=e.createHTML("")}else i.innerHTML="";return i}var o,u=Qt();if("v1"==u?(n=t.attachShadow({mode:"open"})).styleSheets||Object.defineProperty(n,"styleSheets",{get:function(){var t=[];return n.childNodes.forEach((function(n){"STYLE"===n.tagName&&t.push(n.sheet)})),t}}):n="v0"==u?t.createShadowRoot():function(t){var n=t.ownerDocument;t.classList.add("i-amphtml-shadow-host-polyfill");var r=n.createElement("style");r.textContent=".i-amphtml-shadow-host-polyfill>:not(i-amphtml-shadow-root){display:none!important}",t.appendChild(r);var i=n.createElement("i-amphtml-shadow-root");return t.appendChild(i),t.__AMP_SHADOW_ROOT=i,Object.defineProperty(t,"shadowRoot",{enumerable:!0,configurable:!0,value:i}),i.host=t,i.getElementById=function(t){var n=String(t).replace(x,S);return i.querySelector("#".concat(n))},Object.defineProperty(i,"styleSheets",{get:function(){return n.styleSheets?(t=n.styleSheets,t?Array.prototype.slice.call(t):[]).filter((function(t){return i.contains(t.ownerNode)})):[];var t}}),i}(t),!Yt()){var a="i-amphtml-sd-".concat(r.Math.floor(1e4*r.Math.random()));n.id=a,n.host.classList.add(a),o=function(t){return function(t,n){return function(t,n){var r=B(t.id),i=t.ownerDocument,e=null;try{e=Sn(i.implementation.createHTMLDocument(""),n)}catch(t){}if(!e)try{e=Sn(i,n)}catch(t){}return e?tn(e,".".concat(r),wn):n}(t,n)}(n,t)},n.__AMP_CSS_TR=o}return n}function yn(t,n,r){var i,e,o=t.ownerDocument;if(Yt())i=o.importNode(n,r);else{"block",e=(i=o.createElement("amp-body")).style,b(!0),b(!e.display),e.display="block";for(var u=0;u<n.attributes.length;u++)i.setAttribute(n.attributes[0].name,n.attributes[0].value);if(r)for(var a=n.firstChild;a;a=a.nextSibling)i.appendChild(o.importNode(a,!0))}Gt(i,"position","relative");var s=t.body;return s&&t.removeChild(s),t.appendChild(i),Object.defineProperty(t,"body",{configurable:!0,value:i}),i}function wn(t){return t.replace(/(html|body)/g,xn)}function xn(t,n,r,i){var e=i.charAt(r-1),o=i.charAt(r+t.length);return e&&!mn.test(e)||o&&!bn.test(o)?t:"amp-"+t}function Sn(t,n){var r=t.createElement("style");r.textContent=n;try{return(t.head||t.documentElement).appendChild(r),r.sheet?r.sheet.cssRules:null}finally{r.parentNode&&r.parentNode.removeChild(r)}}var En="multidoc-manager",On=function(){function n(t,n,r,i){this.win=t,this.Tf=n,this.dl=r,this.Fe=i,this.jl=[]}var r=n.prototype;return r.zl=function(n,r,i,e){var u=this;i=i||Object.create(null),this.Ul(),Gt(n,"visibility","hidden");var a=gn(n);a.AMP&&(V().warn(En,"Shadow doc wasn't previously closed"),this.Ll(a));var s={};a.AMP=s,s.url=r;var c=At(r).origin,f=this.Tf.installShadowDoc(r,a,{params:i});s.ampdoc=f,Z().fine(En,"Attach to shadow root:",a,f),an(f,t.combinedCss,null,!0),t.installAmpdocServices(f);var l,v,d=St(f);return s.setVisibilityState=function(t){f.overrideVisibilityState(t)},s.postMessage=d.receiveMessage.bind(d),s.onMessage=function(t){l=t},d.setMessageDeliverer((function(t,n,r){var i;return"broadcast"==t?(u.Hl(n,a),r?K():void 0):null===(i=l)||void 0===i?void 0:i(t,n,r)}),c),s.close=function(){return u.Ll(a)},(v=self,v.__AMP_MODE?v.__AMP_MODE:v.__AMP_MODE=function(t){return{localDev:!1,development:D(t,M(t)),esm:!1,test:!1,rtvVersion:$(t),ssrReady:!1}}(v)).development&&(s.toggleRuntime=d.toggleRuntime.bind(d),s.resources=F(f,"resources")),s.getState=function(t){return yt(a).then((function(n){return n?n.getState(t):Promise.reject("amp-bind is not available in this document")}))},s.setState=function(t){return yt(a).then((function(n){return n?"string"==typeof t?n.setStateWithExpression(t,{}):h(t)||o(t)?n.setStateWithObject(t):Promise.reject("Invalid state"):Promise.reject("amp-bind is not available in this document")}))},e(s,a,f).then((function(){f.setReady(),f.signals().signal(Kt),Gt(n,"visibility","visible")})),this.jl.includes(a)||this.jl.push(a),Z().fine(En,"Shadow root initialization is done:",a,f),s},r.attachShadowDoc=function(t,n,r,i){var e=this;return V().assertString(r),Z().fine(En,"Attach shadow doc:",n),this.zl(t,r,i,(function(r,i,o){if(e.Gl(o,i,n),n.body){var u=yn(i,n.body,!0);u.classList.add("amp-shadow"),o.setBody(u)}return setTimeout((function(){o.signals().signal(Kt),Gt(t,"visibility","visible")}),50),K()}))},r.attachShadowDocAsStream=function(t,n,r){var i=this;return V().assertString(n),Z().fine(En,"Attach shadow doc as stream"),this.zl(t,n,r,(function(n,r,e){var o,u=!1,a=function(t){return void 0===pn&&(pn=function(t){return!(!t.document.implementation||"function"!=typeof t.document.implementation.createHTMLDocument||(n=t,Y(n,"platform")).isFirefox());var n}(t)),pn}(o=i.win)?new hn(o):new vn(o);return n.writer=a,a.onBody((function(t){i.Gl(e,r,t);var n=yn(r,t.body,!1);return n.classList.add("amp-shadow"),e.setBody(n),n})),a.onBodyChunk((function(){u||(u=!0,setTimeout((function(){e.signals().signal(Kt),Gt(t,"visibility","visible")}),50))})),new Promise((function(t){a.onEnd((function(){t(),n.writer=null}))}))}))},r.Gl=function(t,n,r){if(r.head){n.AMP.head=r.head;for(var i={},e=j(this.win.document.head,"link"),o=0;o<e.length;o++){var u=e[o].getAttribute("href");u&&(i[u]=!0)}for(var a=r.head.firstElementChild;a;a=a.nextElementSibling){var s=a.tagName,c=a.getAttribute("name"),f=a.getAttribute("rel");switch(s){case"TITLE":n.AMP.title=a.textContent,Z().fine(En,"- set title: ",n.AMP.title);break;case"META":a.hasAttribute("charset")||"viewport"==c||(c?t.setMetaByName(c,a.getAttribute("content")||""):Z().warn(En,"meta ignored: ",a));break;case"LINK":var l=a.getAttribute("href");if("canonical"==f)n.AMP.canonicalUrl=l,Z().fine(En,"- set canonical: ",n.AMP.canonicalUrl);else if("stylesheet"==f)if(i[l])Z().fine(En,"- stylesheet already included: ",l),an(t,'@import "'.concat(l,'"'),null,!1);else{i[l]=!0;var h=this.win.document.createElement("link");h.setAttribute("rel","stylesheet"),h.setAttribute("type","text/css"),h.setAttribute("href",l),this.win.document.head.appendChild(h),Z().fine(En,"- import font to parent: ",l,h)}else Z().fine(En,"- ignore link rel=",f);break;case"STYLE":a.hasAttribute("amp-boilerplate")?Z().fine(En,"- ignore boilerplate style: ",a):a.hasAttribute("amp-custom")?(an(t,a.textContent,null,!1,"amp-custom"),Z().fine(En,"- import style: ",a)):a.hasAttribute("amp-keyframes")&&(an(t,a.textContent,null,!1,"amp-keyframes"),Z().fine(En,"- import style: ",a));break;case"SCRIPT":if(a.hasAttribute("src")){Z().fine(En,"- src script: ",a);var v=a.getAttribute("src"),d=ht(v),p=a.getAttribute("custom-element"),m=a.getAttribute("custom-template"),b=p||m;d?b?this.dl.installExtensionForDoc(t,b,d.extensionVersion):a.hasAttribute("data-amp-report-test")||V().error(En,"- unknown script: ",a,v):Z().fine(En,"- ignore runtime script: ",v)}else-1==(a.getAttribute("type")||"application/javascript").indexOf("javascript")?(n.appendChild(this.win.document.importNode(a,!0)),Z().fine(En,"- non-src script: ",a)):a.hasAttribute("amp-onerror")||V().error(En,"- unallowed inline javascript: ",a);break;case"NOSCRIPT":break;default:V().error(En,"- UNKNOWN head element:",a)}}}t.setExtensionsKnown()},r.Hl=function(t,n){var r=this;this.Ul(),this.jl.forEach((function(i){if(i!=n){var e=St(i.AMP.ampdoc);r.Fe.delay((function(){e.receiveMessage("broadcast",t,!1)}),0)}}))},r.Ll=function(t){this.Vl(t);var n=t.AMP;delete t.AMP;var r=n.ampdoc;return r.overrideVisibilityState("inactive"),function(t){!function(t){var n=ut(t),r=function(t){if(!Object.prototype.hasOwnProperty.call(n,t))return"continue";var r=n[t];if(r.sharedInstance)return"continue";r.obj?st(t,r.obj):r.promise&&r.promise.then((function(n){return st(t,n)}))};for(var i in n)r(i)}(t)}(r),this.Fe.timeoutPromise(15,new this.win.Promise((function(t){nt(r,"resources").then((function(n){n?n.onNextPass(t):t()}))})),"Timeout reached waiting for visibility state change callback").catch((function(t){V().info(En,t)}))},r.Vl=function(t){var n=this.jl.indexOf(t);-1!=n&&this.jl.splice(n,1)},r.Fl=function(t){var n=this;this.Fe.delay((function(){n.Ll(t)}),0)},r.Ul=function(){var t=this;this.jl.forEach((function(n){n.host&&function(t){var n=t.isConnected;if(void 0!==n)return n;for(var r=t;(r=I(r)).host;)r=r.host;return r.nodeType===Node.DOCUMENT_NODE}(n.host)||(V().warn(En,"Shadow doc wasn't previously closed"),t.Vl(n),t.Fl(n))}))},n}(),Rn="amp-next-page",jn=function(){function t(){this.t=null,this.En=null,this.wt=null,this.FC=null,this.tvt,this.lct=null,this.Rh=null,this.yct=null,this.nvt=0,this.rvt=!1,this.iC=null,this.jo=null,this.Wt=null,this.ivt=[],this.evt=null,this.ovt=function(){},this.pA=null,this.i="",this._o=null}var n=t.prototype;return n.isActive=function(){return null!==this.FC},n.register=function(t,n,r){var i,e,o,u=this;if(!this.isActive()){var a=rt(t),s=a.win;this.FC=n,this.t=s,this.lct=r||this.uvt(),this.En=t,this.wt=Rt(s),this.FC.hideSelectors&&(this.tvt=this.FC.hideSelectors.join(",")),this.iC=F(a,"navigation"),this.jo=Ot(a),this.Rh=F(a,"mutator"),this.yct=new On(s,mt(s),function(t){return Y(t,"extensions")}(s),et(s,"timer")),this.pA=xt(this.En),this.i=this.pA.parse(a.getUrl()).origin,this._o=function(t){return F(t,"history")}(a),i="position-observer",e=Bt,function(t,n,r,i,e,o){var u=ut(t),a=u[r];a||(a=u[r]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:!1}),a.ctor||(a.ctor=i,a.context=n,a.sharedInstance=!1,a.resolve&&et(t,r))}(it(o=rt(a)),o,i,e),this.Wt=function(t){return F(t,"position-observer")}(t);var c=function(t){return F(t,"documentInfo").get()}(a).canonicalUrl,f=kn(s.document.location.href,s.document.title,c),l={ampdoc:a,url:s.document.location.href,title:s.document.title,canonicalUrl:c};f.amp=l,this.ivt.push(f),this.evt=this.ivt[0],this.jo.onScroll((function(){return u.op()})),this.jo.onResize((function(){return u.op()})),this.op()}},n.setAppendPageHandler=function(t){this.ovt=t},n.zl=function(t,n){if(this.tvt)for(var r=n.querySelectorAll(this.tvt),i=0;i<r.length;i++)r[i].classList.add("i-amphtml-next-page-hidden");for(var e=n.querySelectorAll("amp-analytics"),o=0;o<e.length;o++)P(e[o]);var u=this.yct.attachShadowDoc(t,n,"",{visibilityState:"prerender"}),a=B(u.ampdoc);return an(a,Jt,null,!1,Rn),a.getBody().classList.add("i-amphtml-next-page-document"),u},n.avt=function(){var t=this.t.document.createElement("div");return t.classList.add("i-amphtml-next-page-measurer"),t},n.uvt=function(){var t=this.t.document.createElement("div");return t.classList.add("amp-next-page-default-separator"),t},n.svt=function(){var t=this;if(this.nvt<this.FC.pages.length){var n=this.FC.pages[this.nvt],r=kn(n.ampUrl);this.ivt.push(r);var i=this.t.document.createElement("div"),e=this.avt();i.appendChild(e);var o=this.lct.cloneNode(!0);o.removeAttribute("separator"),i.appendChild(o);var u=this.cvt(this.nvt);i.appendChild(u),r.recUnit.el=u;var a=this.t.document.createElement("div");i.appendChild(a);var s=this.nvt;if(this.ovt(i).then((function(){t.Wt.observe(e,0,(function(n){return t.fvt(s,n)})),t.Wt.observe(u,0,(function(n){return t.lvt(r)}))})),this.nvt>=2)return;this.nvt++,this.wt.fetch(n.ampUrl,{ampCors:!1}).then((function(n){return r.ampUrl=n.url,J(t.pA.parse(n.url).origin===t.i,"ampUrl resolved to a different origin from the origin of the current document"),n.text()})).then((function(n){var r=t.t.document.implementation.createHTMLDocument("");return r.open(),r.write(n),r.close(),r})).then((function(n){return new Promise((function(e,o){r.cancelled?e():(r.recUnit.isObserving&&(t.Wt.unobserve(u),r.recUnit.isObserving=!0),t.Rh.mutateElement(i,(function(){try{r.amp=t.zl(a,n),i=r.recUnit.el,void 0===(u=!1)&&(u=i.hasAttribute("hidden")),u?i.removeAttribute("hidden"):i.setAttribute("hidden",""),t.rvt=!1,e()}catch(t){o(t)}var i,u})))}))}),(function(t){return V().error(Rn,"failed to fetch %s",n.ampUrl,t)})).catch((function(t){return Z().error(Rn,"failed to attach shadow document for %s",n.ampUrl,t)})).then((function(){return t.op()}))}},n.cvt=function(t){var n=this,r=this.t.document,i=t-1,e=t,o="";t>0&&(o=this.ivt[i].ampUrl);var u=r.createElement("div");u.classList.add("amp-next-page-links");for(var a=function(){var t=n.FC.pages[e];e++;var i=r.createElement("a");i.href=t.ampUrl,i.classList.add("i-amphtml-reco-holder-article","amp-next-page-link"),i.addEventListener("click",(function(r){n.vst("amp-next-page-click",t.ampUrl,o),n.iC.navigateToAmpUrl(t.ampUrl,"content-discovery")&&r.preventDefault()}));var a=r.createElement("div");a.classList.add("i-amphtml-next-article-image","amp-next-page-image"),Gt(a,"background-image","url(".concat(t.image,")")),i.appendChild(a);var s=r.createElement("div");s.classList.add("i-amphtml-next-article-title","amp-next-page-text"),s.textContent=t.title,i.appendChild(s),u.appendChild(i)};e<this.FC.pages.length&&e-t<3;)a();return u},n.op=function(){var t=this;if(!this.rvt){var n=this.jo.getSize(),r=Dt(0,0,n.width,n.height);this.jo.getClientRectAsync(this.En).then((function(i){if(!t.rvt){var e=3*n.height;i.bottom-r.bottom<e&&(t.rvt=!0,t.svt())}}))}},n.fvt=function(t,n){if(n&&null===n.positionRect){var r=this.ivt[t],i="";switch(n.relativePos){case"top":r=this.ivt[t+1],i="amp-next-page-scroll";break;case"bottom":i="amp-next-page-scroll-back"}r&&r.amp&&(this.vst(i,r.ampUrl,this.evt.ampUrl),this.hvt(r))}},n.lvt=function(t){t.cancelled=!0,t.recUnit.isObserving&&(this.Wt.unobserve(t.recUnit.el),t.recUnit.isObserving=!1)},n.hvt=function(t){var n=this;this.ivt.forEach((function(r){var i=r.amp;r===t?(n.t.document.title=i.title||"",n.evt=r,n.vvt(r),n.dvt(r,"visible")):n.dvt(r,$t)}))},n.dvt=function(t,n){if(t!==this.ivt[0]){var r=t.amp&&t.amp.ampdoc;r&&(r.hasBeenVisible()||n!=$t)&&t.amp.setVisibilityState(n)}},n.vvt=function(t){var n=t.amp,r=n.canonicalUrl,i=n.title,e=this.pA.parse(t.ampUrl),o=e.pathname,u=e.search;this._o.replace({title:i,url:o+u,canonicalUrl:r})},n.vst=function(t,n,r){var i={"toURL":n,"fromURL":r=r||""};!function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];bt(t).then((function(e){e&&e.triggerEventForTarget(t,n,r,i)}))}(this.En,t,i)},t}();function kn(t,n,r){return{ampUrl:t,amp:n||r?{title:n,canonicalUrl:r}:null,recUnit:{el:null,isObserving:!1},cancelled:!1}}function Pn(t,n,r,i){var e=function(t){return Q(t,"url-replace")}(t);return(r>=1?e.expandUrlAsync(n):Promise.resolve(n)).then((function(n){if(1===r){var o=e.collectDisallowedVarsSync(t);if(o.length>0)throw V().createError("URL variable substitutions in CORS fetches from dynamic URLs (e.g. via amp-bind) require opt-in. "+'Please add data-amp-replace="'.concat(o.join(" "),'" to the ')+"<".concat(t.tagName,"> element. See https://bit.ly/amp-var-subs."))}var u={};return t.hasAttribute("credentials")&&(u.credentials=t.getAttribute("credentials")),i&&(u.cache="reload"),{"xhrUrl":n,"fetchOpt":u}}))}var Tn=["GET","POST"];function In(t,n){var r,i=N({},n);if((r=n.body)&&"function"==typeof r.getFormData){var e=n.body;i.headers["Content-Type"]="multipart/form-data;charset=utf-8",i.body=function(t){for(var n=[],r=t.next();!r.done;r=t.next())n.push(r.value);return n}(e.entries())}return{input:t,init:i}}function An(t,n,r){var i=function(t,n){var r,i=t||{},e=i.credentials;return b(void 0===e||"include"==e||"omit"==e),i.method=void 0===(r=i.method)?"GET":(r=r.toUpperCase(),b(Tn.includes(r)),r),i.headers=i.headers||{},i.headers.Accept=n,b(null!==i.body),i}(r,"text/html");i=function(t,n,r){r=r||{};var i=function(t){return t.origin||At(t.location.href).origin}(t);return i==At(n).origin&&(r.headers=r.headers||{},r.headers["AMP-Same-Origin"]="true"),r}(t,n,i),n=function(t,n,r){return b("string"==typeof n),!1!==r.ampCors&&(n=function(t,n){return function(t){var n=C(At(t).search);J(!(Tt in n),"Source origin is not allowed in %s",t)}(n),function(t,n,r,i){return function(t,n,r){if(!n)return t;var i=t.split("#",2),e=i[0].split("?",2);return e[0]+(e[1]?"?".concat(e[1],"&").concat(n):"?".concat(n))+(i[1]?"#".concat(i[1]):"")}(t,function(t,n){return"".concat(encodeURIComponent("__amp_source_origin"),"=").concat(encodeURIComponent(n))}(0,r))}(n,0,Ct(t.location.href))}(t,n)),n}(t,n,i);var e=mt(t),a=e.isSingleDoc()?e.getSingleDoc():null;return i.responseType="document",function(t,n,r,i){if(!n)return K();var e=i.prerenderSafe?K():n.whenFirstVisible(),a=St(n),s=_t(r),c=a.hasCapability("xhrInterceptor"),f=i.bypassInterceptorForDev&&!1;return s||!c||f?e:n.getRootNode().documentElement.hasAttribute("allow-xhr-interception")?e.then((function(){return a.isTrustedViewer()})).then((function(n){if(n||lt(t,"untrusted-xhr-interception")){var e={"originalRequest":In(r,i)};return a.sendMessageAwaitResponse("xhr",e).then((function(t){return function(t,n){if(function(t,n){var r,i,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Assertion failed";if(n)return n;t&&-1==e.indexOf(t)&&(e+=t);for(var o=3,a=e.split("%s"),s=a.shift(),c=[s];a.length;){var f=arguments[o++],l=a.shift();s+=m(f)+l,c.push(f,l.trim())}var h=new Error(s);throw h.messageArray=u(c,(function(t){return""!==t})),null===(r=(i=self).__AMP_REPORT_ERROR)||void 0===r||r.call(i,h),h}("​​​",h(t),"Object expected: %s",t,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),"document"!=n)return new Response(t.body,t.init);var r=v(),i={status:200,statusText:"OK",getResponseHeader:function(t){return r[String(t).toLowerCase()]||null}};if(t.init){var e=t.init;o(e.headers)&&e.headers.forEach((function(t){var n=t[0],i=t[1];r[String(n).toLowerCase()]=String(i)})),e.status&&(i.status=parseInt(e.status,10)),e.statusText&&(i.statusText=String(e.statusText))}return new Response(t.body?String(t.body):"",i)}(t,i.responseType)}))}})):e}(t,a,n,i).then((function(t){return t?t.text().then((function(t){return(new DOMParser).parseFromString(t,"text/html")})):function(t,n){return new Promise((function(r,i){var e=new XMLHttpRequest;for(var o in e.open(n.method||"GET",t,!0),e.withCredentials="include"==n.credentials,e.responseType="document",n.headers)e.setRequestHeader(o,n.headers[o]);e.onreadystatechange=function(){if(!(e.readyState<2)){if(e.status<100||e.status>599)return e.onreadystatechange=null,void i(V().createExpectedError("Unknown HTTP status ".concat(e.status)));if(4==e.readyState){var t={status:e.status,statusText:e.statusText,headers:(u=e.getAllResponseHeaders(),a={},u.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();a[r]=i}})),a)},n=(o=new Response("",t),new Promise((function(t){if(o.ok)return t(o);var n=o.status,r=V().createError("HTTP error ".concat(n));throw r.retriable=function(t){return 415==t||t>=500&&t<600}(n),r.response=o,r}))).then((function(t){return{response:t,xhr:e}}));r(n)}}var o,u,a},e.onerror=function(){i(V().createExpectedError("Request failure"))},e.onabort=function(){i(V().createExpectedError("Request aborted"))},"POST"==n.method?e.send(n.body):e.send()}))}(n,i).then((function(t){return t.xhr.responseXML}))}))}var Un="amp-next-page",Nn="next-page",_n=function(t){!function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&n(t,r)}(s,t);var i,u,a=(i=s,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=r(i);if(u){var o=r(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return e(this,t)});function s(){return a.apply(this,arguments)}var c=s.prototype;return c.isLayoutSupported=function(t){return"container"==t},c.buildCallback=function(){var t=this;J(lt(this.win,"amp-next-page"),"Experiment amp-next-page disabled");var n,r=(n=this.element,O("separator"),R(n,"> [".concat("separator","]")));J(r.length<=1,"%s should contain at most one <div separator> child",Un);var i,e=null;return 1===r.length&&P(e=r[0]),(i=this.getAmpDoc(),tt(i,Nn)).then((function(n){if(!n.isActive()){var r=t.element;r.classList.add("i-amphtml-next-page");var i=r.hasAttribute("deep-parsing")?"deep-parsing":r.hasAttribute("xssi-prefix")?"xssi-prefix":r.hasAttribute("max-pages")?"max-pages":null;i&&t.pvt(i);var o,u=r.getAttribute("src"),a=Promise.resolve([]),s=r.getAttribute("type");if(s){J("adsense"===s,"".concat(Un," only supports type=adsense"));var c=r.getAttribute("data-client"),f=r.getAttribute("data-slot");J(/^ca-pub-\d+$/.test(c),"".concat(Un," AdSense client should be of the format 'ca-pub-123456'")),J(/^\d+$/.test(f),"".concat(Un," AdSense slot should be a number"));var l=t.getConsentPolicy(),h=l?function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return wt(t).then((function(t){return t?t.whenPolicyResolved(n):null}))}(r,l).catch((function(t){return V().error(Un,"Error determining consent state",t),4})):Promise.resolve(1);a=h.then((function(n){return t.mvt(c,f,1===n||3===n)})).catch((function(t){return V().warn(Un,"error fetching recommendations from AdSense",t),[]}))}var v=t.XK();return o=u?t.bvt().catch((function(t){return V().error(Un,"error fetching config",t)})):Promise.resolve(v),v&&(u||s)&&t.pvt("mixing configuration types"),J(v||u||s,"%s should contain a <script> child, a URL specified in [src], or a [type]",Un),Promise.all([o,a]).then((function(r){var i=r[0]||{},o=r[1]||[];i.pages=o.concat(i.pages||[]),t.VF(n,i,e)}))}}))},c.XK=function(){var t=j(this.element,"SCRIPT");if(!t.length)return null;J(1===t.length,"".concat(Un," should contain at most one <script> child"));var n,r,i=t[0];return J("SCRIPT"==(n=i).tagName&&"APPLICATION/JSON"==(null===(r=n.getAttribute("type"))||void 0===r?void 0:r.toUpperCase()),"".concat(Un," config should ")+'be inside a <script> tag with type="application/json"'),function(t,n){try{return g(t)}catch(t){return null==n||n(t),null}}(i.textContent,(function(t){V().error(Un,"failed to parse config",t)}))},c.mvt=function(t,n,r){var i=this,e="".concat("https://googleads.g.doubleclick.net/pagead/ads","?client=").concat(t,"&slotname=").concat(n)+"&url=".concat(encodeURIComponent(this.getAmpDoc().getUrl()))+"&ecr=1&crui=title&is_amp=3&output=xml";return An(this.win,e,{credentials:r?"include":"omit"}).then((function(t){for(var n,r=xt(i.element),e=r.parse(i.getAmpDoc().getUrl()).origin,o=[],u=t.getElementsByTagName("AD"),a=0;a<u.length;a++){var s=u[a],c=k(s,"LINE1"),f=k(s,"MEDIA_TEMPLATE_DATA"),l=s.getAttribute("visible_url"),h=s.getAttribute("url"),v=((n=c)&&n.textContent||"").trim(),d=Ln(f);r.parse(l).origin===e&&h&&v&&d&&o.push({title:v,image:d,ampUrl:h})}return o}))},c.VF=function(t,n,r){var i=this,e=this.element,u=function(t,n,r){return J(n,"amp-next-page config must be specified"),J(o(n.pages),"pages must be an array"),function(t,n,r){n.forEach((function(n){return function(t,n,r){V().assertString(n.ampUrl,"ampUrl must be a string");var i,e,o=Lt(r);n.ampUrl=(i=n.ampUrl,e=It(e=o),"function"==typeof URL?new URL(i,e.href).toString():function(t,n){n=It(n);var r=At(t=t.replace(/\\/g,"/"));return t.toLowerCase().startsWith(r.protocol)?r.href:t.startsWith("//")?n.protocol+t:t.startsWith("/")?n.origin+t:n.origin+n.pathname.replace(/\/[^/]*$/,"/")+t}(i,e));var u=xt(t),a=u.parse(n.ampUrl),s=u.parse(r).origin,c=Ct(r);J(a.origin===s||a.origin===c||function(t,n,r){var i=n.search.match(/adurl=(.*)(?:&|$)/);if(!i)return!1;var e=xt(t).parse(i[1]);return"https://googleads.g.doubleclick.net"===n.origin&&e.origin===r}(t,a,s),"pages must be from the same origin as the current document"),V().assertString(n.image,"image must be a string"),V().assertString(n.title,"title must be a string"),c!==s&&a.origin===c&&(n.ampUrl="".concat(s,"/c/")+("https:"===a.protocol?"s/":"")+encodeURIComponent(a.host)+a.pathname+(a.search||"")+(a.hash||""))}(t,n,r)}))}(t,n.pages,r),"hideSelectors"in n&&(J(o(n.hideSelectors),"amp-next-page hideSelectors should be an array"),n.hideSelectors.forEach((function(t){zt.forEach((function(n){V().assertString(t,"amp-next-page hideSelector value should be a string"),J(!n.test(t),"amp-next-page hideSelector %s not allowed",t)}))}))),n}(e,n,this.getAmpDoc().getUrl());t.register(e,u,r),t.setAppendPageHandler((function(t){return i.gvt(t)}))},c.gvt=function(t){var n=this;return this.mutateElement((function(){return n.element.appendChild(t)}))},c.bvt=function(){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.expr,e=void 0===i?".":i,o=r.urlReplacement,u=void 0===o?0:o,a=r.refresh,s=void 0!==a&&a,c=r.xssiPrefix,f=void 0===c?void 0:c,l=r.url,h=void 0===l?n.getAttribute("src"):l;Nt(h,n);var v=gt(t.win);return Pn(n,h,u,s).then((function(t){return v.fetchJson(t.xhrUrl,t.fetchOpt)})).then((function(n){return Rt(t.win).xssiJson(n,f)})).then((function(t){if(null==t)throw new Error("Response is undefined.");return p(t,e||".")})).catch((function(t){throw V().createError("failed fetching JSON data",t)}))}(this.getAmpDoc(),this.element,{urlReplacement:2})},c.pvt=function(t){V().warn(Un,"".concat(t," is a feature of ").concat(Un," 1.0, please update your version to use it"))},s}(t.BaseElement);function Ln(t){try{return g(t.textContent.trim().slice(0,-1))[0].core_image_url}catch(t){return""}}var Cn=new jn;t.registerServiceForDoc(Nn,(function(){return Cn})),t.registerElement(Un,_n,Jt)}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
/**
* @license
* Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
* Use of this source code is governed by a BSD-style
* license that can be found in the LICENSE file or at
* https://developers.google.com/open-source/licenses/bsd
*/}});
//# sourceMappingURL=amp-next-page-0.1.js.map